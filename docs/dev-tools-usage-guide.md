# é–‹ç™¼å·¥å…·å¯¦éš›ä½¿ç”¨æŒ‡å—

## ä¸€ã€å¿«é€Ÿé–‹å§‹

### 1. å•Ÿå‹•é–‹ç™¼ç’°å¢ƒ
```bash
npm run dev
```

### 2. é–‹å•Ÿç€è¦½å™¨æ§åˆ¶å°ï¼ˆF12ï¼‰

### 3. ç¢ºèªå·¥å…·è¼‰å…¥
```javascript
// æ‡‰è©²çœ‹åˆ°ä»¥ä¸‹è¨Šæ¯
ğŸ› ï¸ è³‡æ–™é©—è­‰å·¥å…·å·²è¼‰å…¥
ğŸ“Š è³‡æ–™æª¢æŸ¥å·¥å…·å·²è¼‰å…¥
ğŸ“Š æ•ˆèƒ½ç›£æ§å·¥å…·å·²è¼‰å…¥
```

## äºŒã€å¯¦éš›ä½¿ç”¨æ¡ˆä¾‹

### ğŸ“Š æ¡ˆä¾‹ 1ï¼šæª¢æŸ¥è³‡æ–™ç‹€æ³

**å ´æ™¯**ï¼šæƒ³äº†è§£ç›®å‰è³‡æ–™åº«æœ‰å“ªäº›è³‡æ–™

```javascript
// 1. å¿«é€Ÿæª¢æŸ¥æ‰€æœ‰è³‡æ–™
inspectData()

// è¼¸å‡ºç¯„ä¾‹ï¼š
// === è³‡æ–™åº«é€£æ¥ç‹€æ…‹ ===
// ç‹€æ…‹: healthy
// 
// === æ´»å‹•è³‡æ–™çµ±è¨ˆ ===
// ç¸½æ´»å‹•æ•¸: 150
// ä¸å®Œæ•´è³‡æ–™: 0
// 
// === åŸå¸‚è³‡æ–™åˆ†å¸ƒ ===
// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”
// â”‚ (index) â”‚  city  â”‚ count â”‚
// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
// â”‚    0    â”‚ å°åŒ—å¸‚ â”‚  45   â”‚
// â”‚    1    â”‚ å°ä¸­å¸‚ â”‚  35   â”‚
// â”‚    2    â”‚ é«˜é›„å¸‚ â”‚  30   â”‚
// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ” æ¡ˆä¾‹ 2ï¼šæ¸¬è©¦åŸå¸‚ç¯©é¸

**å ´æ™¯**ï¼šæ¸¬è©¦ã€Œå°åŒ—å¸‚ã€çš„ç¯©é¸æ˜¯å¦æ­£å¸¸

```javascript
// 1. æ¸¬è©¦ç¯©é¸åŠŸèƒ½
testFilter({ cities: ['å°åŒ—å¸‚'] })

// è¼¸å‡ºç¯„ä¾‹ï¼š
// ğŸ§ª æ¸¬è©¦ç¯©é¸æŸ¥è©¢
// ç¯©é¸æ¢ä»¶: { cities: ['å°åŒ—å¸‚'] }
// æŸ¥è©¢åŸ·è¡Œæ™‚é–“: 45.23ms
// æŸ¥è©¢çµæœ: 45 ç­†
// 
// ç¬¬ä¸€ç­†çµæœ:
// ID: act-001
// åç¨±: 2024å°åŒ—éŸ³æ¨‚ç¯€
// åŸå¸‚: å°åŒ—å¸‚
// åˆ†é¡: éŸ³æ¨‚è¡¨æ¼”, æ–‡åŒ–è—è¡“
```

### ğŸ› æ¡ˆä¾‹ 3ï¼šæª¢æŸ¥ç‰¹å®šæ´»å‹•è³‡æ–™

**å ´æ™¯**ï¼šæŸå€‹æ´»å‹•é¡¯ç¤ºç•°å¸¸ï¼Œéœ€è¦æª¢æŸ¥åŸå§‹è³‡æ–™

```javascript
// 1. å…ˆæ‰¾å‡ºæ´»å‹• IDï¼ˆå¾ç¶²é ä¸Šé»æ“Šæ´»å‹•çœ‹ URL æˆ–æ§åˆ¶å°ï¼‰
// 2. æª¢æŸ¥è©²æ´»å‹•çš„å®Œæ•´è³‡æ–™
inspectActivity('act-001')

// è¼¸å‡ºç¯„ä¾‹ï¼š
// ğŸ” æª¢æŸ¥æ´»å‹• ID: act-001
// 
// åŸºæœ¬è³‡æ–™:
// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
// â”‚ (index) â”‚     name     â”‚   description   â”‚
// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
// â”‚    0    â”‚ 2024å°åŒ—éŸ³æ¨‚ç¯€ â”‚ å¹´åº¦æœ€å¤§éŸ³æ¨‚ç››æœƒ... â”‚
// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
// 
// ä½ç½®è³‡æ–™:
// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
// â”‚ (index) â”‚  city  â”‚ districtâ”‚  address  â”‚
// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
// â”‚    0    â”‚ å°åŒ—å¸‚ â”‚ ä¿¡ç¾©å€  â”‚ æ¾å£½è·¯9è™Ÿ  â”‚
// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### âš¡ æ¡ˆä¾‹ 4ï¼šæ¸¬è©¦è¤‡é›œç¯©é¸æ•ˆèƒ½

**å ´æ™¯**ï¼šæ¸¬è©¦å¤šæ¢ä»¶ç¯©é¸çš„æ•ˆèƒ½

```javascript
// 1. æ¸¬è©¦ JOIN æŸ¥è©¢æ•ˆèƒ½
testJoinPerf()

// è¼¸å‡ºç¯„ä¾‹ï¼š
// ğŸ§ª æ¸¬è©¦å¤šè¡¨æ ¼ JOIN æ•ˆèƒ½...
// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
// â”‚ (index) â”‚      æ¸¬è©¦é …ç›®        â”‚ åŸ·è¡Œæ™‚é–“  â”‚  ç‹€æ…‹   â”‚
// â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
// â”‚    0    â”‚ ç°¡å–®æŸ¥è©¢ï¼ˆå–®è¡¨ï¼‰      â”‚  8.45ms  â”‚ âœ… æˆåŠŸ â”‚
// â”‚    1    â”‚ å–®ä¸€ JOIN           â”‚  15.23ms â”‚ âœ… æˆåŠŸ â”‚
// â”‚    2    â”‚ å¤šé‡ JOIN           â”‚  45.67ms â”‚ âœ… æˆåŠŸ â”‚
// â”‚    3    â”‚ è¤‡é›œæŸ¥è©¢ï¼ˆå«ç¯©é¸ï¼‰    â”‚  89.12ms â”‚ âœ… æˆåŠŸ â”‚
// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

// 2. æŸ¥çœ‹æ•ˆèƒ½å ±å‘Š
perfReport()

// 3. å–å¾—å„ªåŒ–å»ºè­°
perfSuggestions()
```

### âœ… æ¡ˆä¾‹ 5ï¼šé©—è­‰è³‡æ–™æ ¼å¼

**å ´æ™¯**ï¼šç¢ºèªå‰ç«¯è³‡æ–™æ ¼å¼æ˜¯å¦æ­£ç¢º

```javascript
// 1. å–å¾—ä¸€ç­†æ´»å‹•è³‡æ–™
const { activities } = useActivitiesClient();
const activity = activities.value[0];

// 2. é©—è­‰è³‡æ–™æ ¼å¼
DataValidator.validateActivity(activity)

// è¼¸å‡ºç¯„ä¾‹ï¼š
// {
//   valid: false,
//   errors: [
//     'ç¼ºå°‘æ´»å‹• ID',
//     'ç„¡æ•ˆçš„åŸå¸‚åç¨±: å°åŒ—'  // æ‡‰è©²æ˜¯ã€Œå°åŒ—å¸‚ã€
//   ]
// }
```

### ğŸ”§ æ¡ˆä¾‹ 6ï¼šåµéŒ¯ç¯©é¸å•é¡Œ

**å ´æ™¯**ï¼šç¯©é¸æ²’æœ‰çµæœï¼Œéœ€è¦æ‰¾å‡ºåŸå› 

```javascript
// 1. æª¢æŸ¥ç•¶å‰ç¯©é¸æ¢ä»¶
const { filters } = useFilters();
console.log('ç•¶å‰ç¯©é¸:', filters.value);

// 2. é©—è­‰ç¯©é¸æ¢ä»¶æ ¼å¼
DataValidator.validateSearchFilters(filters.value)

// 3. æ‰‹å‹•æ¸¬è©¦ SQL æŸ¥è©¢
const { query } = useSqlite();
const result = await query(`
  SELECT COUNT(*) as count 
  FROM activities a
  LEFT JOIN locations l ON a.id = l.activity_id
  WHERE l.city = 'å°åŒ—å¸‚'
`);
console.log('å°åŒ—å¸‚æ´»å‹•æ•¸:', result[0].count);

// 4. å¦‚æœæ²’æœ‰çµæœï¼Œæª¢æŸ¥è³‡æ–™
const cities = await query('SELECT DISTINCT city FROM locations');
console.table(cities); // çœ‹çœ‹è³‡æ–™åº«è£¡åˆ°åº•æœ‰å“ªäº›åŸå¸‚
```

## ä¸‰ã€å¸¸è¦‹å•é¡Œæ’æŸ¥æµç¨‹

### å•é¡Œ 1ï¼šã€Œç¯©é¸å¾Œæ²’æœ‰çµæœã€

```javascript
// æ­¥é©Ÿ 1ï¼šæª¢æŸ¥è³‡æ–™åº«æœ‰æ²’æœ‰è³‡æ–™
inspectData()

// æ­¥é©Ÿ 2ï¼šæª¢æŸ¥ç¯©é¸æ¢ä»¶
const { filters } = useFilters();
console.log('ç¯©é¸æ¢ä»¶:', filters.value);

// æ­¥é©Ÿ 3ï¼šæ¸¬è©¦å–®ä¸€æ¢ä»¶
testFilter({ cities: ['å°åŒ—å¸‚'] })  // åªæ¸¬è©¦åŸå¸‚
testFilter({ categories: ['music'] }) // åªæ¸¬è©¦åˆ†é¡

// æ­¥é©Ÿ 4ï¼šæª¢æŸ¥è³‡æ–™æ ¼å¼
dataReport()
```

### å•é¡Œ 2ï¼šã€Œè¼‰å…¥å¾ˆæ…¢ã€

```javascript
// æ­¥é©Ÿ 1ï¼šç›£æ§è¼‰å…¥æ™‚é–“
console.time('é é¢è¼‰å…¥');
location.reload();
// çœ‹æ§åˆ¶å°çš„æ™‚é–“

// æ­¥é©Ÿ 2ï¼šæª¢æŸ¥è³‡æ–™åº«å¤§å°
perfReport()

// æ­¥é©Ÿ 3ï¼šæ¸¬è©¦æŸ¥è©¢æ•ˆèƒ½
testJoinPerf()

// æ­¥é©Ÿ 4ï¼šæ¸…é™¤å¿«å–é‡è©¦
clearPerfCache()
```

### å•é¡Œ 3ï¼šã€Œè³‡æ–™é¡¯ç¤ºä¸æ­£ç¢ºã€

```javascript
// æ­¥é©Ÿ 1ï¼šæ‰¾å‡ºå•é¡Œæ´»å‹•çš„ ID
// ï¼ˆå¾ç¶²é ä¸Šé»æ“Šæˆ–å¾ activities.value æ‰¾ï¼‰

// æ­¥é©Ÿ 2ï¼šæª¢æŸ¥åŸå§‹è³‡æ–™
inspectActivity('å•é¡Œæ´»å‹•çš„ID')

// æ­¥é©Ÿ 3ï¼šæª¢æŸ¥è³‡æ–™è½‰æ›
const { activities } = useActivitiesClient();
const problem = activities.value.find(a => a.id === 'å•é¡Œæ´»å‹•çš„ID');
console.log('è½‰æ›å¾Œè³‡æ–™:', problem);

// æ­¥é©Ÿ 4ï¼šé©—è­‰è³‡æ–™æ ¼å¼
DataValidator.validateActivity(problem)
```

## å››ã€é€²éšæŠ€å·§

### 1. æ‰¹é‡æ¸¬è©¦æ‰€æœ‰åŸå¸‚
```javascript
const cities = ['å°åŒ—å¸‚', 'å°ä¸­å¸‚', 'é«˜é›„å¸‚'];
for (const city of cities) {
  console.log(`\næ¸¬è©¦ ${city}:`);
  await testFilter({ cities: [city] });
}
```

### 2. ç›£æ§å³æ™‚æ•ˆèƒ½
```javascript
// é–‹å•Ÿæ•ˆèƒ½ç›£æ§
let count = 0;
const interval = setInterval(async () => {
  count++;
  console.log(`ç¬¬ ${count} æ¬¡æ¸¬è©¦:`);
  await testFilter({ 
    cities: ['å°åŒ—å¸‚'], 
    categories: ['music'] 
  });
  if (count >= 5) clearInterval(interval);
}, 2000);
```

### 3. ç”¢ç”Ÿæ¸¬è©¦è³‡æ–™
```javascript
// ç”Ÿæˆæ¸¬è©¦æ´»å‹•
const testActivity = TestDataGenerator.generateTestActivity({
  name: 'æ¸¬è©¦éŸ³æ¨‚æœƒ',
  location: {
    city: 'å°åŒ—å¸‚',
    district: 'ä¿¡ç¾©å€'
  }
});
console.log('æ¸¬è©¦æ´»å‹•:', testActivity);

// é©—è­‰æ¸¬è©¦è³‡æ–™
DataValidator.validateActivity(testActivity);
```

## äº”ã€å¿«é€Ÿåƒè€ƒå¡

```javascript
// === åŸºæœ¬æª¢æŸ¥ ===
inspectData()              // æª¢æŸ¥æ‰€æœ‰è³‡æ–™
inspectActivity('id')      // æª¢æŸ¥ç‰¹å®šæ´»å‹•
dataReport()               // ç”¢ç”Ÿè³‡æ–™å ±å‘Š

// === ç¯©é¸æ¸¬è©¦ ===
testFilter({ cities: ['å°åŒ—å¸‚'] })              // æ¸¬è©¦åŸå¸‚
testFilter({ categories: ['music'] })           // æ¸¬è©¦åˆ†é¡
testFilter({ tags: ['indoor'] })                // æ¸¬è©¦æ¨™ç±¤
testFilter({ 
  cities: ['å°åŒ—å¸‚'],
  categories: ['music'],
  priceRange: { min: 0, max: 0 }
})                                              // æ¸¬è©¦çµ„åˆæ¢ä»¶

// === æ•ˆèƒ½ç›£æ§ ===
testJoinPerf()             // æ¸¬è©¦ JOIN æ•ˆèƒ½
perfReport()               // æ•ˆèƒ½å ±å‘Š
perfSuggestions()          // å„ªåŒ–å»ºè­°
clearPerfCache()           // æ¸…é™¤å¿«å–

// === è³‡æ–™é©—è­‰ ===
DataValidator.validateActivity(activity)         // é©—è­‰æ´»å‹•
DataValidator.validateSearchFilters(filters)     // é©—è­‰ç¯©é¸
TestDataGenerator.generateTestActivity()         // ç”Ÿæˆæ¸¬è©¦è³‡æ–™
```

## å…­ã€éƒ¨ç½²å‰æª¢æŸ¥æ¸…å–®

åœ¨éƒ¨ç½²åˆ° GitHub Pages å‰ï¼Œä½¿ç”¨é€™äº›å·¥å…·é€²è¡Œæœ€çµ‚æª¢æŸ¥ï¼š

```javascript
// 1. è³‡æ–™å®Œæ•´æ€§æª¢æŸ¥
await inspectData();
// ç¢ºèªæ²’æœ‰ã€Œä¸å®Œæ•´è³‡æ–™ã€

// 2. æ•ˆèƒ½æª¢æŸ¥
await testJoinPerf();
// ç¢ºèªæ‰€æœ‰æŸ¥è©¢ < 100ms

// 3. ç¯©é¸åŠŸèƒ½æª¢æŸ¥
const testCases = [
  { cities: ['å°åŒ—å¸‚'] },
  { categories: ['music'] },
  { tags: ['indoor'] },
  { cities: ['å°åŒ—å¸‚'], categories: ['music'] }
];

for (const testCase of testCases) {
  await testFilter(testCase);
  // ç¢ºèªéƒ½æœ‰çµæœ
}

// 4. ç”¢ç”Ÿæœ€çµ‚å ±å‘Š
await dataReport();
await perfReport();
```

é€™äº›å·¥å…·è®“æ‚¨èƒ½å¤ ï¼š
- ğŸ” å¿«é€Ÿè¨ºæ–·å•é¡Œ
- âš¡ ç›£æ§æ•ˆèƒ½è¡¨ç¾
- âœ… é©—è­‰è³‡æ–™æ­£ç¢ºæ€§
- ğŸ“Š ç”¢ç”Ÿè©³ç´°å ±å‘Š

è¨˜å¾—é€™äº›å·¥å…·åªåœ¨é–‹ç™¼ç’°å¢ƒå¯ç”¨ï¼Œä¸æœƒå½±éŸ¿ç”Ÿç”¢ç’°å¢ƒï¼