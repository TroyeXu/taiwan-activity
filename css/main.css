@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

/* 全域樣式 */
@layer base {
  html {
    scroll-behavior: smooth;
  }
  
  body {
    @apply font-sans antialiased bg-gray-50 text-gray-900;
    -webkit-tap-highlight-color: transparent;
  }
  
  /* 自定義滾動條 */
  ::-webkit-scrollbar {
    @apply w-2 h-2;
  }
  
  ::-webkit-scrollbar-track {
    @apply bg-gray-100;
  }
  
  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 rounded-full;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400;
  }
}

/* 元件樣式 */
@layer components {
  /* 按鈕樣式 */
  .btn {
    @apply inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2;
  }
  
  .btn-primary {
    @apply bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500;
  }
  
  .btn-secondary {
    @apply bg-white text-gray-700 border-gray-300 hover:bg-gray-50 focus:ring-primary-500;
  }
  
  .btn-ghost {
    @apply bg-transparent text-gray-600 hover:bg-gray-100 hover:text-gray-900;
  }
  
  /* 卡片樣式 */
  .card {
    @apply bg-white rounded-lg shadow-card border border-gray-200 overflow-hidden;
  }
  
  .card-body {
    @apply p-6;
  }
  
  /* 輸入框樣式 */
  .form-input {
    @apply block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm;
  }
  
  .form-select {
    @apply block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm;
  }
  
  /* 活動卡片 */
  .activity-card {
    @apply card hover:shadow-lg transition-shadow duration-200 cursor-pointer;
  }
  
  .activity-card:hover {
    @apply transform -translate-y-1;
  }
  
  /* 篩選面板 */
  .filter-panel {
    @apply bg-white rounded-lg shadow-soft border border-gray-200 p-6;
  }
  
  .filter-section {
    @apply mb-6 last:mb-0;
  }
  
  .filter-label {
    @apply block text-sm font-medium text-gray-700 mb-2;
  }
  
  /* 地圖相關 */
  .map-container {
    @apply w-full h-full relative overflow-hidden rounded-lg;
  }
  
  .map-overlay {
    @apply absolute inset-0 pointer-events-none;
  }
  
  .map-controls {
    @apply absolute top-4 right-4 space-y-2;
  }
  
  .map-control-btn {
    @apply bg-white p-2 rounded-md shadow-md hover:shadow-lg transition-shadow border border-gray-200;
  }
  
  /* 載入動畫 */
  .loading-spinner {
    @apply animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600;
  }
  
  .loading-dots::after {
    content: '';
    @apply inline-block animate-pulse;
    animation: dots 1.5s infinite;
  }
  
  @keyframes dots {
    0%, 20% { content: ''; }
    40% { content: '.'; }
    60% { content: '..'; }
    80%, 100% { content: '...'; }
  }
  
  /* 響應式工具 */
  .container-responsive {
    @apply container mx-auto px-4 sm:px-6 lg:px-8;
  }
  
  /* 無障礙 */
  .sr-only {
    @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
  }
  
  /* Focus 樣式 */
  .focus-outline {
    @apply focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2;
  }
}

/* 工具樣式 */
@layer utilities {
  /* 文字截斷 */
  .text-truncate {
    @apply truncate;
  }
  
  .text-truncate-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .text-truncate-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  /* 漸層背景 */
  .bg-gradient-primary {
    @apply bg-gradient-to-r from-primary-600 to-primary-700;
  }
  
  .bg-gradient-secondary {
    @apply bg-gradient-to-r from-secondary-600 to-secondary-700;
  }
  
  /* 陰影變化 */
  .shadow-hover {
    transition: box-shadow 0.2s ease-in-out;
  }
  
  .shadow-hover:hover {
    @apply shadow-xl;
  }
  
  /* 玻璃效果 */
  .glass {
    @apply bg-white/80 backdrop-blur-sm border border-white/20;
  }
  
  .glass-dark {
    @apply bg-gray-900/80 backdrop-blur-sm border border-gray-700/20;
  }
}

/* Element Plus 客製化 */
:root {
  --el-color-primary: theme('colors.primary.600');
  --el-color-primary-light-3: theme('colors.primary.400');
  --el-color-primary-light-5: theme('colors.primary.300');
  --el-color-primary-light-7: theme('colors.primary.200');
  --el-color-primary-light-8: theme('colors.primary.100');
  --el-color-primary-light-9: theme('colors.primary.50');
  --el-color-primary-dark-2: theme('colors.primary.700');
}

/* 響應式斷點工具 */
@screen sm {
  .mobile-hidden {
    @apply hidden;
  }
}

@screen lg {
  .desktop-only {
    @apply block;
  }
  
  .mobile-only {
    @apply hidden;
  }
}